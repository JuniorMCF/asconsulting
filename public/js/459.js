"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[459],{9413:(t,a,e)=>{e.r(a),e.d(a,{default:()=>s});const o={data:function(){return{categoria:{nombre:""},loadSave:!1}},mounted:function(){this.setActualPage(),this.getData()},methods:{setActualPage:function(){this.$store.dispatch("app/saveActualPage","Editar categoría")},getData:function(){var t=this,a=new FormData;a.append("categoria_id",this.$route.params.id),axios({method:"post",url:"/api/oauth/category",data:a,headers:{Authorization:"Bearer "+this.$store.state.auth.token}}).then((function(a){t.categoria=a.data})).catch((function(t){console.log(t)}))},saveCategory:function(){var t=this;this.loadSave=!0;var a=new FormData;a.append("categoria_id",this.$route.params.id),a.append("nombre",this.categoria.nombre),axios({method:"post",url:"/api/oauth/category/save",data:a,headers:{Authorization:"Bearer "+this.$store.state.auth.token}}).then((function(a){t.loadSave=!1,a?(Vue.$toast.success("Categoría actualizada!"),setTimeout((function(){t.$router.push({path:"/admin/categorias"})}),2e3)):Vue.$toast.success("Error de conexión")})).catch((function(a){Vue.$toast.success("Error de conexión"),t.loadSave=!1,console.log(a)}))},goToCategorys:function(){this.$router.push({path:"/admin/categorias"})}},computed:{actualPage:function(){return this.$store.state.app.actual_page},role:function(){return this.$store.getters["auth/getRole"]}}};const s=(0,e(1900).Z)(o,(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("v-container",{staticClass:"pa-0 ma-0 px-md-10 px-3",attrs:{fluid:""}},[e("v-row",{staticClass:"justify-center"},[e("v-col",{staticClass:"col-12 col-md-6"},[e("v-card-title",{staticClass:"font-weight-bold px-0 ma-0"},[t._v(t._s(t.actualPage))])],1)],1),t._v(" "),e("v-row",{staticClass:"pa-0 ma-0 justify-center"},[e("v-col",{staticClass:"pa-0 ma-0 col-12 col-md-6 mb-4"},[e("span",{staticClass:"text-h4 black--text font-weight-bold"},[t._v(t._s(t.categoria.nombre))])])],1),t._v(" "),e("v-row",{staticClass:"pa-0 ma-0 justify-center"},[e("v-col",{staticClass:"pa-0 ma-0 col-12 col-md-6"},[e("v-text-field",{attrs:{"hide-details":"auto",color:"sky",value:t.categoria.nombre,outlined:"",placeholder:"Nombre de la categpría",dense:""},model:{value:t.categoria.nombre,callback:function(a){t.$set(t.categoria,"nombre",a)},expression:"categoria.nombre"}})],1)],1),t._v(" "),e("v-row",{staticClass:"pa-0 ma-0 justify-center"},[e("v-col",{staticClass:"py-4 ma-0 col-6 col-md-3 pl-0"},["propietario"==t.role.slug?e("v-btn",{staticClass:"text-normal elevation-0 white--text rounded-lg",attrs:{loading:t.loadSave,color:"sky",block:""},on:{click:function(a){return a.preventDefault(),t.saveCategory()}}},[t._v("Guardar")]):t._e()],1),t._v(" "),e("v-col",{staticClass:"py-4 ma-0 col-6 col-md-3 pr-0"},[e("v-btn",{staticClass:"text-normal elevation-0 rounded-lg",attrs:{block:"",text:"",outlined:"",color:"sky"},on:{click:function(a){return a.preventDefault(),t.goToCategorys()}}},[t._v("Cancelar")])],1)],1)],1)],1)}),[],!1,null,null,null).exports}}]);